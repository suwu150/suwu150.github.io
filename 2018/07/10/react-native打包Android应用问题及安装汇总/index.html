<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>react-native打包Android应用问题及安装汇总 | suwu150</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="1. 应用未安装 问题：在安装apk安装包的时候，会出现应用未安装的提示 解决方法： 删掉手机上已经安装过的apk，进行重新安装即可 原因分析： 是由于签名问题，在程序中包名一致，但是签名不同就会出现不能安装问题  2. 很抱歉，程序出现异常，即将退出 问题：在打开程序的时候，会出现很抱歉，程序出现异常，即将退出的提示，然后退出程序 现象：在android日志中能够看到下面日志： 12345678">
<meta name="keywords" content="Android">
<meta property="og:type" content="article">
<meta property="og:title" content="react-native打包Android应用问题及安装汇总">
<meta property="og:url" content="http://yoursite.com/2018/07/10/react-native打包Android应用问题及安装汇总/index.html">
<meta property="og:site_name" content="suwu150">
<meta property="og:description" content="1. 应用未安装 问题：在安装apk安装包的时候，会出现应用未安装的提示 解决方法： 删掉手机上已经安装过的apk，进行重新安装即可 原因分析： 是由于签名问题，在程序中包名一致，但是签名不同就会出现不能安装问题  2. 很抱歉，程序出现异常，即将退出 问题：在打开程序的时候，会出现很抱歉，程序出现异常，即将退出的提示，然后退出程序 现象：在android日志中能够看到下面日志： 12345678">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-07-11T13:25:39.360Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="react-native打包Android应用问题及安装汇总">
<meta name="twitter:description" content="1. 应用未安装 问题：在安装apk安装包的时候，会出现应用未安装的提示 解决方法： 删掉手机上已经安装过的apk，进行重新安装即可 原因分析： 是由于签名问题，在程序中包名一致，但是签名不同就会出现不能安装问题  2. 很抱歉，程序出现异常，即将退出 问题：在打开程序的时候，会出现很抱歉，程序出现异常，即将退出的提示，然后退出程序 现象：在android日志中能够看到下面日志： 12345678">
  
    <link rel="alternate" href="/atom.xml" title="suwu150" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">suwu150</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-react-native打包Android应用问题及安装汇总" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/10/react-native打包Android应用问题及安装汇总/" class="article-date">
  <time datetime="2018-07-10T01:36:34.000Z" itemprop="datePublished">2018-07-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      react-native打包Android应用问题及安装汇总
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h5 id="1-应用未安装"><a href="#1-应用未安装" class="headerlink" title="1. 应用未安装"></a>1. 应用未安装</h5><ul>
<li>问题：在安装apk安装包的时候，会出现<code>应用未安装</code>的提示</li>
<li>解决方法： 删掉手机上已经安装过的apk，进行重新安装即可</li>
<li>原因分析： 是由于签名问题，在程序中包名一致，但是签名不同就会出现不能安装问题</li>
</ul>
<h5 id="2-很抱歉，程序出现异常，即将退出"><a href="#2-很抱歉，程序出现异常，即将退出" class="headerlink" title="2. 很抱歉，程序出现异常，即将退出"></a>2. 很抱歉，程序出现异常，即将退出</h5><ul>
<li>问题：在打开程序的时候，会出现<code>很抱歉，程序出现异常，即将退出</code>的提示，然后退出程序</li>
<li><p>现象：在android日志中能够看到下面日志：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">07-10 19:05:07.446 12390-12436/? E/ReactNativeJS: undefined is not an object (evaluating &apos;s.View.propTypes.style&apos;)</span><br><span class="line">07-10 19:05:07.455 12390-12436/? E/ReactNativeJS: Application Lova has not been registered.</span><br><span class="line"></span><br><span class="line">    Hint: This error often happens when you&apos;re running the packager (local dev server) from a wrong folder. For example you have multiple apps and the packager is still running for the app you were working on before.</span><br><span class="line">    If this is the case, simply kill the old packager instance (e.g. close the packager terminal window) and start the packager in the correct app folder (e.g. cd into app folder and run &apos;npm start&apos;).</span><br><span class="line"></span><br><span class="line">    This error can also happen due to a require() error during initialization or failure to call AppRegistry.registerComponent.</span><br><span class="line">07-10 19:05:08.012 1003-1271/? E/WifiStateMachine:  ConnectedState (when=-5ms what=131155 arg1=5!CMD_RSSI_POLL 5 0 &quot;11223344&quot; ac:c1:ee:3c:82:dd rssi=-51 f=2412 sc=60 link=65 tx=0.5, 0.0, 0.0  rx=0.3 bcn=0 [on:0 tx:0 rx:0 period:2983] from screen [on:0 period:-2082616660] gl hn u24 rssi=-46 ag=0 hr ticks 0,0,0 ls-=0 [56,56,56,56,61] brc=0 lrc=0</span><br><span class="line">07-10 19:05:08.015 1003-1271/? E/WifiStateMachine:  L2ConnectedState (when=-8ms what=131155 arg1=5!CMD_RSSI_POLL 5 0 &quot;11223344&quot; ac:c1:ee:3c:82:dd rssi=-51 f=2412 sc=60 link=65 tx=0.5, 0.0, 0.0  rx=0.3 bcn=0 [on:0 tx:0 rx:0 period:3] from screen [on:0 period:-2082616657] gl hn u24 rssi=-46 ag=0 hr ticks 0,0,0 ls-=0 [56,56,56,56,61] brc=0 lrc=0</span><br><span class="line">     get link layer stats 0</span><br></pre></td></tr></table></figure>
</li>
<li><p>解决方法：——————————-没有解决暂时，—–</p>
</li>
</ul>
<h5 id="3-Android-Gradle-3-0-0-alpha2-plugin-Cannot-set-the-value-of-read-only-property-‘outputFile’"><a href="#3-Android-Gradle-3-0-0-alpha2-plugin-Cannot-set-the-value-of-read-only-property-‘outputFile’" class="headerlink" title="3.  Android Gradle 3.0.0-alpha2 plugin, Cannot set the value of read-only property ‘outputFile’"></a>3.  Android Gradle 3.0.0-alpha2 plugin, Cannot set the value of read-only property ‘outputFile’</h5><ul>
<li>问题：</li>
<li>解决方法：<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">applicationVariants.all &#123; variant -&gt; </span><br><span class="line">    variant.outputs.each &#123; output -&gt;</span><br><span class="line">        def SEP = <span class="string">"_"</span></span><br><span class="line">        def flavor = variant.productFlavors[<span class="number">0</span>].name</span><br><span class="line">        def buildType = </span><br><span class="line">        variant.variantData.variantConfiguration.buildType.name</span><br><span class="line">        def version = variant.versionName</span><br><span class="line">        def date = <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">        def formattedDate = date.format(<span class="string">'ddMMyy_HHmm'</span>)</span><br><span class="line">        def newApkName = PROJECT_NAME + SEP + flavor + SEP + buildType + SEP + version + SEP + formattedDate + <span class="string">".apk"</span></span><br><span class="line">        def file = <span class="keyword">new</span> File(newApkName)</span><br><span class="line">        output.outputFile = file</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>修改为：<br>Use all() instead of each()<br>Use outputFileName instead of output.outputFile if you change only file name (that is your case)<br>Example from the guide:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// If you use each() to iterate through the variant objects,</span></span><br><span class="line"><span class="comment">// you need to start using all(). That's because each() iterates</span></span><br><span class="line"><span class="comment">// through only the objects that already exist during configuration time—</span></span><br><span class="line"><span class="comment">// but those object don't exist at configuration time with the new model.</span></span><br><span class="line"><span class="comment">// However, all() adapts to the new model by picking up object as they are</span></span><br><span class="line"><span class="comment">// added during execution.</span></span><br><span class="line">android.applicationVariants.all &#123; variant -&gt;</span><br><span class="line">    variant.outputs.all &#123;</span><br><span class="line">        outputFileName = <span class="string">"$&#123;variant.name&#125;-$&#123;variant.versionName&#125;.apk"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li>原因分析： 版本更新导致的问题</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/10/react-native打包Android应用问题及安装汇总/" data-id="cjjh5qw5y0009s2jhhkc7oirp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/07/10/react-native修改应用启动页/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          react-native修改应用启动页
        
      </div>
    </a>
  
  
    <a href="/2018/07/09/Android Studio报错：Configuration on demand is not supported by the current version of the Android Gradle/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Android Studio报错：Configuration on demand is not supported by the current version of the Android Gradle</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-native/">react-native</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/react/" style="font-size: 10px;">react</a> <a href="/tags/react-native/" style="font-size: 20px;">react-native</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/07/11/react-native应用集成地理逆编码/">(no title)</a>
          </li>
        
          <li>
            <a href="/2018/07/10/Android中gradlew命令的基本使用/">Android中gradlew命令的基本使用</a>
          </li>
        
          <li>
            <a href="/2018/07/10/react-native修改应用启动页/">react-native修改应用启动页</a>
          </li>
        
          <li>
            <a href="/2018/07/10/react-native打包Android应用问题及安装汇总/">react-native打包Android应用问题及安装汇总</a>
          </li>
        
          <li>
            <a href="/2018/07/09/Android Studio报错：Configuration on demand is not supported by the current version of the Android Gradle/">Android Studio报错：Configuration on demand is not supported by the current version of the Android Gradle</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 jkwu<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>